<!DOCTYPE html>
<html lang="ko" class="window">

<head>
  <meta charset="utf-8">
  <meta name="format-detection" content="telephone=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="../css/style.css?v.20240304" />
  <link rel="stylesheet" href="../css/custom.css?v.20230522" />
  <link rel="stylesheet" href="../css/popup.css?v.20240129" />
  <link rel="stylesheet" href="../css/payment.css?v.20231012" />
  <script src="../js/jquery-3.4.1.min.js"></script>
  <script src="../js/common.js?v.230830"></script>
  <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <link rel="icon" href="../images/favicon.ico">
  <title>슈퍼브이 - 글로벌리더로 크는 아이</title>
  <meta name="description" content="36개월부터 8세까지, 영어 수학 한글은 슈퍼브이! 총 제작비 330억 유아동 교육 사상 최대 프로젝트">
  <meta property="og:title" content="4~8세, 슈퍼브이 0원 무료체험">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.superv.com">
  <meta property="og:image" content="https://cdndata.superv.com/teaser/free_ex.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:site_name" content="슈퍼브이">
  <meta property="og:description" content="글로벌 리더로 크는 아이">
  <meta name="naver-site-verification" content="e1b5df9322bb433c10f00df22f70acc00565aa48" />
  <meta name="facebook-domain-verification" content="x2v6gihwlkcqfge8r8fl43n3i1s3nr" />

  <!-- 23.09.12 GA4 추가 Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9XHXE81G99"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-9XHXE81G99');
  </script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-241422429-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-241422429-1');
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-11002778747"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

  </script>

  <script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/kas/static/kp.js"></script>
  <script type="text/javascript">
    kakaoPixel('834136065350125897').pageView();
  </script>

  <!-- Meta Pixel Code -->
  <!--<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1829423534071558');
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=1829423534071558&ev=PageView&noscript=1"
  /></noscript>-->
  <!-- End Meta Pixel Code -->

  <!-- Meta Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1273932433393358');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
                 src="https://www.facebook.com/tr?id=1273932433393358&ev=PageView&noscript=1"
  /></noscript>
  <!-- End Meta Pixel Code -->

  <!--2022.11.15 네이버관고_태그_작업요청_유희목-->
  <!-- 공통 적용 스크립트 , 모든 페이지에 노출되도록 설치. 단 전환페이지 설정값보다 항상 하단에 위치해야함 -->
  <script type="text/javascript" src="//wcs.naver.net/wcslog.js"> </script>
  <script type="text/javascript">
    if (!wcs_add) var wcs_add={};
    wcs_add["wa"] = "s_1b6fb771984a";
    if (!_nasa) var _nasa={};
    if(window.wcs){
      wcs.inflow();
      wcs_do(_nasa);
    }
  </script>
  <!-- Taboola Pixel Code -->
  <script type='text/javascript'>
    window._tfa = window._tfa || [];
    window._tfa.push({notify: 'event', name: 'page_view', id: 1507255});
    !function (t, f, a, x) {
      if (!document.getElementById(x)) {
        t.async = 1;t.src = a;t.id=x;f.parentNode.insertBefore(t, f);
      }
    }(document.createElement('script'),
      document.getElementsByTagName('script')[0],
      '//cdn.taboola.com/libtrc/unip/1507255/tfa.js',
      'tb_tfa_script');
  </script>
  <!-- End of Taboola Pixel Code -->

  <!--2023.05.15 매드업 대행사 마케팅 추가 - 유희목-->
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PSGJQ26');</script>
  <!-- End Google Tag Manager -->


	<!--2023.07.03 당근 마케팅 태그 추가.-->
	<!-- Danggeun Market Code -->
	<script src="https://karrot-pixel.business.daangn.com/0.0.3/karrot-pixel.umd.js"></script>
	<script>
		window.karrotPixel.init('1687311895739500001');
		window.karrotPixel.track('ViewPage');
	</script>
	<!-- End Danggeun Market Code -->


</head>

<body class="front_body">
<!-- 23.09.12 Google Tag Manager (noscript) -->
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSGJQ26" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->
<div class="page_wrap">
  <!-- 공통 헤더 -->
  <div class="multi_top_zone">
    <!-- 221102 header 수정 -->
    <header class="header_wrap shu_active">
      <script>$(".header_wrap").load('../include/header.html?v.20240228');</script>
    </header>
  </div>


  <div class="container cart">
    <section class="sub-header-wrap">
      <div class="mtit">장바구니</div>
    </section>

    <section class="cart-items-wrap">
      <ul class="pc_item" name="cartPc">
      </ul>
      <ul class="mb_item"  name="cartMb">
      </ul>
    </section>

    <section class="agree-item-wrap">
      <!-- TODO: disabled 속성 삭제 시 버튼 활성화 -->
      <button type="button" class="btn-buy" disabled name="paymentCartBtn" onclick="fnGetPaymentCart();">주문하기</button>
    </section>

    <section class="terms-item-wrap">
      <dl>
        <dt>[안내]</dt>
        <dd>
          <ul>
            <li>장바구니는 30일 동안 보관되며 이후에는 자동으로 삭제됩니다.</li>
            <li>약정 상품은 1개 이상 선택하실 수 없습니다.</li>
          </ul>
        </dd>
      </dl>
    </section>



  </div>


  <footer class="footer_wrap">
    <script>$(".footer_wrap").load('../include/footer.html?v.20230322');</script>
  </footer>
</div>


<!-- include popup : 슈퍼브이에 바란다 -->
<div class="dimlayer_z fulltype" id="superVboard">
  <script>
    $("#superVboard").load('/include/pop_superv_board.html?v.20230809');
    $('#superVboard').on("click", ".btn_layerclose", function(e) {
      var $this = $(this),
              $t_p = $this.parents(".dimlayer_z");
      e.preventDefault();
      $t_p.removeClass('active');
    });
  </script>
</div>
<!-- // include popup -->
</body>
<script>
  $(document).ready(function (){
    fnGetMyCartList();
  })


  function fnGetMyCartList() {
    var parentId = null;
    var jwtTokcen = jwt.getAllToken();
    if (!common.isNull(jwtTokcen.getItem(ACCESS_TOKEN_NAME)) && !common.isNull(jwtTokcen.getItem(EXPIRED_TIME_NAME)) && !common.isNull(jwtTokcen.getItem(REFRESH_TOKEN_NAME))) {
      $("[name='loginPart']").show();
      $("[name='loginOutPart']").hide();
      if (!common.isNull(jwtTokcen.getItem("vuex"))) {
        var userInfo = JSON.parse(jwtTokcen.getItem("vuex"));
        if (!common.isNull(userInfo.parentId)) {
          parentId = userInfo.parentId;
        }
      }
    } else {
      jwt.destroyAll();
      $("[name='loginUserName']").html();
      $("[name='loginPart']").hide();
      $("[name='loginOutPart']").show();
      alert("로그인 후 진행해주세요.");
      common.hrefFunction('/main.html');
    }

    const thisNowDate = new Date();
    const thisNowYYMMDD = new Date(thisNowDate.getFullYear(), thisNowDate.getMonth(), thisNowDate.getDate());
    const res = function(response) {
      if (response.code == "200") {
        var returnData = response.data;
        var pcHtml = '';
        var mobHtml = '';
        /* superClass superCoachingClass prime */
        if (returnData.length > 0) {
          $.each(returnData, function (index, item) {
            var thisClass = '';
            var classNm = '';
            /* superClass superCoachingClass prime */
            if (item.prodMngCd == 2) {
              classNm = 'superClass';
              thisClass = '슈퍼클래스';
            } else if (item.prodMngCd == 3) {
              classNm = 'superCoachingClass';
              thisClass = '슈퍼코칭클래스';
            } else if (item.prodMngCd == 4) {
              classNm = 'prime';
              thisClass = '프라임';
            }
            var thisSoldCheck = '';
            var thisId = item.orderCartUid;
            var thisProdId = item.prodId;
            var thisProdNm = item.prodNm;

            var thisSaleEndDt = item.thisSaleEndDt;
            var thisMonthPay = item.monthpayPrice;

            /*판매종료 확인*/
            var thisSaleCheck = true;
            const thisSaleEndDtDate = new Date(item.saleEndDt);
            const thisSaleEndYYMMDD= new Date(thisSaleEndDtDate.getFullYear(), thisSaleEndDtDate.getMonth(), thisSaleEndDtDate.getDate());
            const thisEndDtDate = new Date(item.endDtm);
            const thisEndYYMMDD= new Date(thisEndDtDate.getFullYear(), thisEndDtDate.getMonth(), thisEndDtDate.getDate());
            if(thisSaleEndYYMMDD < thisNowYYMMDD || thisEndYYMMDD < thisNowYYMMDD){
              thisSaleCheck = false
            }
            /*판매 1주일 확인*/
            var thisWeekCheck = false;
            if(Math.abs((thisSaleEndYYMMDD.getTime() - thisNowYYMMDD.getTime())/ (1000 * 60 * 60 * 24)) <= 7 || Math.abs((thisEndYYMMDD.getTime() - thisNowYYMMDD.getTime())/ (1000 * 60 * 60 * 24)) <= 7){
              thisWeekCheck = true;
            }
            if(item.payDiv == "T" || item.payDiv == "C"){
              thisSaleCheck = true;
              thisWeekCheck = false;
            }
            var thisEndDt = item.endDtm;
            if(thisSaleEndDtDate < thisEndDtDate){
              thisEndDt = item.saleEndDt;
            }
            <!-- TODO: li에 sold-out 추가시 글자 스타일 및 변경됨 -->
            if(thisSaleCheck){
              pcHtml += '<li>';
            }else{
              pcHtml += '<li class="sold-out">';
            }
            pcHtml += '<label class="radio">';
            pcHtml += '<input type="radio" name="pcRadio" onclick="fnClickCheckBox(\''+index+'\');" value="'+thisId+'">';
            // pcHtml += '<span class="checkmark"></span>';
            // pcHtml += '<span class="check-img '+classNm+'">';
            // pcHtml += '<img src="../images/icon/icon_class@2x.webp" alt="' + classNm + '">';
            // pcHtml += '<span class="">' + thisClass + '</span>';
            if(!thisSaleCheck){
              pcHtml += '<span class="sold-out">품절</span>';
            }
            pcHtml += '</span>';
            pcHtml += '</label>';
            pcHtml += '<div class="cart-item">';
            pcHtml += '<div class="cart-title">';
            if(item.payDiv == "T"){
              if(item.revokeTypeCd == "1") {
                pcHtml += '<span class="contract wide">해지반환금</span>';
              }else{
                pcHtml += '<span class="contract wide">추가납입금</span>';
              }
            }else if(item.payDiv == "C"){
              pcHtml += '<span class="contract wide">취소청구금</span>';
            }else{
              pcHtml += '<span class="contract">약정</span>';
            }
            pcHtml += '<div>';
            pcHtml += '<p>' + thisProdNm + '</p>';
            if(item.payDiv != "T" && item.payDiv != "C") {
              pcHtml += '<button onclick="fnDeleteThisCart(\'' + thisId + '\',\'' + parentId + '\');">삭제</button>';
            }
            pcHtml += '</div>';
            pcHtml += '</div>';
            pcHtml += '<ul>';
            /*7일 이내 상품만 노출*/
            if(thisWeekCheck){
              pcHtml += '<li class="cart-duration">';
              pcHtml += '<p class="sub-title">결제가능일</p>';
              pcHtml += '<p class="date">' + thisEndDt + '<span>까지</span></p>';
              pcHtml += '</li>';
            }
            pcHtml += '<li class="cart-cost">';
            pcHtml += '<p class="sub-title">상품금액</p>';
            if(String(item.payTypeCd) == '1'){
              pcHtml += '<p class="cost"><span>월 </span>' +  common.comma(item.monthpayPrice) + '<span>원</span></p>';
            }else if(item.payDiv == "T" || item.payDiv == "C"){
              pcHtml += '<p class="cost">' +  common.comma(item.orderAmt) + '<span>원</span></p>';
            }else{
              pcHtml += '<p class="cost"><span>일시납 </span>' +  common.comma(item.lumppayPrice) + '<span>원</span></p>';
            }
            pcHtml += '</li>';
            pcHtml += '</ul>';
            pcHtml += '</div>';
            pcHtml += '<input type="hidden" name="prodId" value="'+thisProdId+'"/>';
            pcHtml += '</li>';

            <!-- TODO: li에 sold-out 추가시 글자 스타일 및 변경됨 -->
            /* superClass superCoachingClass prime */
            if(thisSaleCheck){
              mobHtml += '<li>';
            }else{
              mobHtml += '<li class="sold-out">';
            }
            mobHtml += '<label class="radio">';
            mobHtml += '<input type="radio" name="mbRadio" onclick="fnClickCheckBox(\''+index+'\');" value="'+thisId+'">';
            // mobHtml += '<span class="checkmark"></span>';
            mobHtml += '<span class="cart-title">';
            if(item.payDiv == "T"){
              if(item.revokeTypeCd == "1"){
                mobHtml += '<span class="contract wide">해지반환금</span>';
              }else{
                mobHtml += '<span class="contract wide">추가납입금</span>';
              }
            }else if(item.payDiv == "C"){
              mobHtml += '<span class="contract wide">취소청구금</span>';
            }else{
              mobHtml += '<span class="contract">약정</span>';
            }
            mobHtml += '<span>' + thisProdNm + '</span>';
            if(item.payDiv != "T" && item.payDiv != "C") {
              mobHtml += '<button onclick="fnDeleteThisCart(\'' + thisId + '\',\'' + parentId + '\');"><img src="../images/icon/icon_pop_close_18@2x.webp" alt="delete"></button>';
            }
            mobHtml += '</span>';
            mobHtml += '<span class="flex-row cart-item">';
            // mobHtml += '<span class="check-img">';
            // mobHtml += '<img src="../images/icon/icon_class@2x.webp" alt="' + classNm + '">';
            // mobHtml += '<span class="">' + thisClass + '</span>';
            if(!thisSaleCheck){
              mobHtml += '<span class="sold-out">품절</span>';
            }
            // mobHtml += '</span>';
            mobHtml += '<span class="flex-column cart-info">';
            if(thisWeekCheck) {
              mobHtml += '<span class="cart-date">';
              mobHtml += '<span class="sub-title">결제가능일</span>';
              mobHtml += '<span class="date">' + thisEndDt + '<span> 까지</span></span>';
              mobHtml += '</span>';
            }
            mobHtml += '<span class="cart-cost">';
            mobHtml += '<span class="sub-title">상품금액</span>';
            if(String(item.payTypeCd) == '1'){
              mobHtml += '<span class="cost"><span>월 </span>' +  common.comma(item.monthpayPrice) + '<span>원</span></span>';
            }else if(item.payDiv == "T" || item.payDiv == "C"){
              mobHtml += '<span class="cost">' +  common.comma(item.orderAmt) + '<span>원</span></span>';
            }else{
              mobHtml += '<span class="cost"><span>일시납 </span>' +  common.comma(item.lumppayPrice) + '<span>원</span></span>';
            }
            mobHtml += '</span>';
            mobHtml += '</span>';
            mobHtml += '</span>';
            mobHtml += '</label>';
            mobHtml += '<input type="hidden" name="prodId" value="'+thisProdId+'"/>';
            mobHtml += '</li>';
          });
        }else{
          pcHtml = '        <li class="list-none">\n' +
                  '          <div><img src="../images/icon/m_icon_cart@2x.webp" alt="no-item"><span>장바구니가 비어있습니다.</span></div>\n' +
                  '        </li>';
          mobHtml = '        <li class="list-none">\n' +
                  '          <div><img src="../images/icon/m_icon_cart@2x.webp" alt="no-item"><span>장바구니가 비어있습니다.</span></div>\n' +
                  '        </li>';
        }


        $('[name="cartPc"]').html(pcHtml);
        $('[name="cartMb"]').html(mobHtml);

      } else{
        if(response.data.message != null){
          alert(response.data.message);
        }else{
          alert("시스템 오류가 발생했습니다. 관리자에게 문의하시기 바랍니다.");
        }
        return false;
      }
    }
    /*23.07.20*/
    com_ajax.ajax('post', '/clientsvc/hpg/v1/svh/mypage/order/cart',  String(parentId), res);
  }

  function fnDeleteThisCart(thisId, thisParentId){
    const res = function(response) {
      if (response.code == "200") {
      } else{
        if(response.data.message != null){
          alert(response.data.message);
          window.location.reload();
        }else{
          alert("시스템 오류가 발생했습니다. 관리자에게 문의하시기 바랍니다.");
        }
        return false;
      }
    }

    let data = {
      "id" :thisId,
      "parentId" : thisParentId,
    };
    data = JSON.stringify(data);
    /*23.07.20*/
    com_ajax.ajax('delete', '/clientsvc/hpg/v1/svh/mypage/cart/Info',  data, res);

  }

  function fnClickCheckBox(thisIdx){
    $("[name='pcRadio']").eq(thisIdx).prop("checked", true);
    $("[name='mbRadio']").eq(thisIdx).prop("checked", true);
    $("[name='paymentCartBtn']").attr('disabled', false);

  }

  function fnGetPaymentCart(){
    var orderCartUid = $('input[name=pcRadio]:checked').val();
    const urlParams = new URL(location.href).searchParams;
    var jwtTokcen = jwt.getAllToken();
    var parentId = null;
    var userInfo = JSON.parse(jwtTokcen.getItem("vuex"));
    if(!common.isNull(userInfo.parentId)){
      parentId = userInfo.parentId;
      /*상품 구매가능 상태 확인*/
      const buyCheck = function(response1) {
        if(response1.code == "200"){
          if(response1.data.status){
            var payDiv = response1.data.payDiv;
            /*무료체험, 진행중 상태 확인*/
            const res = function(response) {
              if(response.code == "200"){
                if(!common.isNull(response.data.stateCd)){
                  var thisStateCd = parseInt(response.data.stateCd);
                  var prodId = $('input[name=pcRadio]:checked').parents('li').find('[name="prodId"]').val();
                  var orderCartUid = $('input[name=pcRadio]:checked').val();
                  /*2023.03.29 해지환급금 분기 추가-유희목*/
                  if(payDiv == "T" || payDiv == "C"){
                    common.hrefFunction('/payment/payment.html?prodId='+prodId+'&orderCartUid='+orderCartUid+'&payDiv='+payDiv);
                  }else if(thisStateCd == 2){
                    alert("이미 유료 학습을 진행중이십니다.\n도움이 필요하신 경우 고객센터로 연락 부탁드립니다.");
                    return false;
                  }
                  common.hrefFunction('/payment/payment.html?prodId='+prodId+'&orderCartUid='+orderCartUid+'&payDiv='+payDiv);
                }else{
                  alert("시스템 오류가 발생했습니다. 관리자에게 문의하시기 바랍니다.");
                }
              }else{
                alert("시스템 오류가 발생했습니다. 관리자에게 문의하시기 바랍니다.");
                return false;
              }
            }
            let data = {"parentId" : parentId};
            data = JSON.stringify(data);
            /*23.07.20*/
            com_ajax.ajax('post', '/clientsvc/hpg/v1/svh/mypage/payment/check',  data, res);
          }else{
            alert("해당 상품의\n판매기간이 종료되었습니다.");
            window.location.reload();
          }
        }else{
          alert("시스템 오류가 발생했습니다. 관리자에게 문의하시기 바랍니다.");
          return false;
        }
      }

      let buyData = {
        "parentId" : parentId,
        "orderCartUid" : orderCartUid
      };
      buyData = JSON.stringify(buyData);
      /*23.07.20*/
      com_ajax.ajax('post', '/clientsvc/hpg/v1/svh/mypage/cart/check',  buyData, buyCheck);


    }else{
      if(confirm("로그인이 필요한 서비스입니다.\n지금 로그인 하시겠습니까?")){
        common.hrefFunction("/member/login.html");
      }
      return false;
    }


  }
</script>

</html>
