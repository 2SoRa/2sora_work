<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="format-detection" content="telephone=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="../css/style.css?v.20240304" />
  <link rel="stylesheet" href="../css/custom.css?v.20221206" />
  <link rel="stylesheet" href="../css/popup.css?v.20240129" />
  <link rel="stylesheet" href="../css/my_info.css?v.20230621" />
  <script src="../js/jquery-3.4.1.min.js"></script>
  <script src="../js/common.js?v.230830"></script>
  <script src="../js/ui.js?v.230720"></script>
  <link rel="icon" href="../images/favicon.ico">
  <title>슈퍼브이 - 글로벌리더로 크는 아이</title>
  <meta name="description" content="36개월부터 8세까지, 영어 수학 한글은 슈퍼브이! 총 제작비 330억 유아동 교육 사상 최대 프로젝트">
  <meta property="og:title" content="4~8세, 슈퍼브이 0원 무료체험">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.superv.com">
  <meta property="og:image" content="https://cdndata.superv.com/teaser/free_ex.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:site_name" content="슈퍼브이">
  <meta property="og:description" content="글로벌 리더로 크는 아이">
  <meta name="naver-site-verification" content="e1b5df9322bb433c10f00df22f70acc00565aa48" />
  <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
  <meta name="facebook-domain-verification" content="x2v6gihwlkcqfge8r8fl43n3i1s3nr" />

  <!-- 23.09.12 GA4 추가 Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9XHXE81G99"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-9XHXE81G99');
  </script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-241422429-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-241422429-1');
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-11002778747"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'AW-11002778747');
  </script>

  <script type="text/javascript" charset="UTF-8" src="//t1.daumcdn.net/kas/static/kp.js"></script>
  <script type="text/javascript">
    kakaoPixel('834136065350125897').pageView();
  </script>

  <!-- Meta Pixel Code -->
  <!--<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1829423534071558');
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=1829423534071558&ev=PageView&noscript=1"
  /></noscript>-->
  <!-- End Meta Pixel Code -->

  <!-- Meta Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1273932433393358');
    fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
                 src="https://www.facebook.com/tr?id=1273932433393358&ev=PageView&noscript=1"
  /></noscript>
  <!-- End Meta Pixel Code -->

  <!--2022.11.15 네이버관고_태그_작업요청_유희목-->
  <!-- 공통 적용 스크립트 , 모든 페이지에 노출되도록 설치. 단 전환페이지 설정값보다 항상 하단에 위치해야함 -->
  <script type="text/javascript" src="//wcs.naver.net/wcslog.js"> </script>
  <script type="text/javascript">
    if (!wcs_add) var wcs_add={};
    wcs_add["wa"] = "s_1b6fb771984a";
    if (!_nasa) var _nasa={};
    if(window.wcs){
      wcs.inflow();
      wcs_do(_nasa);
    }
  </script>
  <!-- Taboola Pixel Code -->
  <script type='text/javascript'>
    window._tfa = window._tfa || [];
    window._tfa.push({notify: 'event', name: 'page_view', id: 1507255});
    !function (t, f, a, x) {
      if (!document.getElementById(x)) {
        t.async = 1;t.src = a;t.id=x;f.parentNode.insertBefore(t, f);
      }
    }(document.createElement('script'),
      document.getElementsByTagName('script')[0],
      '//cdn.taboola.com/libtrc/unip/1507255/tfa.js',
      'tb_tfa_script');
  </script>
  <!-- End of Taboola Pixel Code -->

  <!--2023.05.15 매드업 대행사 마케팅 추가 - 유희목-->
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-PSGJQ26');</script>
  <!-- End Google Tag Manager -->

	<!--2023.07.03 당근 마케팅 태그 추가.-->
	<!-- Danggeun Market Code -->
	<script src="https://karrot-pixel.business.daangn.com/0.0.3/karrot-pixel.umd.js"></script>
	<script>
		window.karrotPixel.init('1687311895739500001');
		window.karrotPixel.track('ViewPage');
	</script>
	<!-- End Danggeun Market Code -->


</head>

<body>
<!-- 23.09.12 Google Tag Manager (noscript) -->
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSGJQ26" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->
<div class="wrapper">
  <!-- 공통 헤더 -->
  <header class="header_wrap shu_active">
    <script>$(".header_wrap").load('../include/header.html?v.20240228');</script>
  </header>

  <div class="container">
    <section class="sub-header-wrap">
      <div class="mtit">마이페이지</div>
    </section>

    <section class="sub-tabmenu-wrap">
      <ul>
        <li><a href="javascript:void(0)"  onclick="common.hrefFunction('./my-info.html');">내 정보</a></li>
        <li><a href="javascript:void(0);" onclick="common.hrefFunction('./payment-info.html');">결제 정보</a></li>
        <li class="on"><a href="javascript:void(0);">계약 정보</a></li>
      </ul>
    </section>

    <section class="myp-page-wrap contract-info">
<!--      <div class="myp-rela-wrap">-->
        <div class="lt-item">
          <div class="page-tit">계약 정보</div>
          <div class="customer">
            <div class="mtit">고객센터</div>
            <div class="tel">1533 - 1777</div>
            <ul>
              <li>
                <div class="key">평일</div>
                <div class="value">: 10시~19시</div>
              </li>
              <li>
                <div class="key">점심시간</div>
                <div class="value">: 12시~13시 </div>
              </li>
              <li>
                <div class="key full">주말/공휴일 휴무</div>
              </li>
            </ul>
          </div>
        </div>
        <div class="rt-item">
          <div class="box-item-wrap">
            <div class="contract-list">
              <div class="select-wrap">
                <select name="contract-list" class="form_select select" id="myContractList">
                </select>
              </div>
              <button class="custom-button preview pc_item" onclick="fnGetContract();">인쇄 미리보기</button>
            </div>
            <!--  계약 내용 표시 -->
            <div class="contract-contents">
              <iframe id="mainContractFrame" class="iframe active" src="" frameborder="0" scrolling="no"></iframe>
              <!-- TODO: 계약정보가 없을 때 -->
              <div class="no-contract">
                <img src="../images/icon/icon_empty_box.svg" alt="empty">
                <p>계약 정보가 없습니다</p>
              </div>
              <div class="mb_item mb_info">
                <p>PC 홈페이지에서 계약 정보 인쇄하기가 가능합니다.<br>
                  마이페이지 > 계약 정보</p>
              </div>
            </div>

          </div>

<!--        </div>-->
      </div>
    </section>
  </div>

  <!-- POPUP END -->
  <footer class="footer_wrap">
    <script>$(".footer_wrap").load('../include/footer.html?v.20230322');</script>
  </footer>
</div>

<div class="dimlayer_z fulltype" id="thisContract">
  <div class="pop_dim"></div>
  <div class="pop_wrap">
    <div class="fullpop_titlow pop_title">
      <span class="title-text">계약정보</span>
      <button class="btn_layerclose"></button>
    </div>
    <div class="fullpop_contlow pop_contents">
        <iframe id='popContractFrame' class="iframe active" src=""></iframe>
    </div>
  </div>
</div>

<!-- include popup : 슈퍼브이에 바란다 -->
<div class="dimlayer_z fulltype" id="superVboard">
  <script>
    $("#superVboard").load('/include/pop_superv_board.html?v.20230809');
    $('#superVboard').on("click", ".btn_layerclose", function(e) {
      var $this = $(this),
              $t_p = $this.parents(".dimlayer_z");
      e.preventDefault();
      $t_p.removeClass('active');
    });
  </script>
</div>
<!-- // include popup -->

</body>

<script>
  /*도메인 설정*/
  var contractUrl = 'http://localhost:4000';
  var thisUrlCheck = new URL(location.href).host;
  if(thisUrlCheck.indexOf('dev') != -1){
    contractUrl = 'https://dev-admin.superv.com';
  }else if(thisUrlCheck.indexOf('www.superv.com') != -1){
    contractUrl = 'https://admin.superv.com';
  }

  function fnGetContract(){
    var UserAgent = navigator.userAgent;
    let thisDevice = 'pc';
    if (UserAgent.match(/iPhone|iPod|Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson/i) != null || UserAgent.match(/LG|SAMSUNG|Samsung/) != null) {
      thisDevice = 'mo';
    }
    window.open('./contract.html?contractNo='+$("#myContractList").val()+"&pageDc="+thisDevice,'_blank', 'width=1000,height=1000');
  }
  $(document).ready(function (){
    var thisParentId = null;
    var jwtTokcen = jwt.getAllToken();
    if(!common.isNull(jwtTokcen.getItem(ACCESS_TOKEN_NAME)) && !common.isNull(jwtTokcen.getItem(EXPIRED_TIME_NAME)) && !common.isNull(jwtTokcen.getItem(REFRESH_TOKEN_NAME))) {
      $("[name='loginPart']").show();
      $("[name='loginOutPart']").hide();
      if(!common.isNull(jwtTokcen.getItem("vuex"))){
        var userInfo = JSON.parse(jwtTokcen.getItem("vuex"));
        if(!common.isNull(userInfo.parentId)){
          thisParentId = userInfo.parentId;
        }
      }
    }else{
      jwt.destroyAll();
      $("[name='loginUserName']").html();
      $("[name='loginPart']").hide();
      $("[name='loginOutPart']").show();
      alert("로그인 후 진행해주세요.");
      common.hrefFunction('../member/login.html');
    }

    if(!common.isNull(thisParentId)){
      const res = function(response) {
        if(response.data.status == "Y"){
          const thisList = response.data.contractList;
          if(thisList.length > 0){
            let selectHtml = "null";
            thisList.forEach((el, idx) => {
              if(idx == 0){
                selectHtml += '<option value="'+el.orderId+'" selected="selected" name="selContract">'+el.prodNm+'</option>';
                fnSetContract(el.orderId);
              }else{
                selectHtml += '<option value="'+el.orderId+'" name="selContract">'+el.prodNm+'</option>';
              }
              $(".contract-list").addClass("active");
            });
            if(thisList.length == 1){
              $("#myContractList").attr('disabled', 'disabled');
            }
            $("#myContractList").html(selectHtml);
          }else{
            $("#mainContractFrame").remove();
            $(".no-contract").addClass("active");
            $(".contract-list").removeClass("active");
          }
        }else{
          $("#mainContractFrame").remove();
          $(".no-contract").addClass("active");
          $(".contract-list").removeClass("active");
        }
      }
      /*23.07.20*/
      com_ajax.ajax('post', '/clientsvc/hpg/v1/svh/mypage/contract/list',  String(thisParentId), res);
    }

  })

  function fnSetContract(orderId){
    var UserAgent = navigator.userAgent;
    let thisDevice = 'pc';
    if (UserAgent.match(/iPhone|iPod|Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson/i) != null || UserAgent.match(/LG|SAMSUNG|Samsung/) != null) {
      thisDevice = 'mo';
    }
    let thisNewDate = new Date().getMilliseconds();
    $("#mainContractFrame").attr("src",  contractUrl+"/contract.html?contractNo="+orderId+"&pageUid="+thisNewDate+"&pageDc="+thisDevice);
  }

  $(document).on('change', '#myContractList', function (){
    fnSetContract($(this).val());
  })
  window.addEventListener('message', function(e) {
    if (!common.isNull(e.data)) {
      document.getElementById('mainContractFrame').style.height = parseInt(e.data)+"px";
    }
  })

</script>
</html>
