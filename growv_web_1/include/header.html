<div class="topbar-item-wrap">
	<div class="rela">
    <div class="topbar-right topbar-item">
      <ul class="user-item-wrap">
        <!-- 로그인 후-->
        <li name="loginPart" class="d-none">
          <span name="loginUserName"></span>
          <a href="javascript:void(0);" onclick="fnLogoutBtn();" class="btn-logout">로그아웃</a>
        </li>
        <li name="loginPart" class="d-none">
          <a href="javascript:void(0)" onclick="common.hrefFunction('./payment/cart.html')";>장바구니</a>
        </li>
        <li name="loginPart" class="d-none">
          <a href="javascript:void(0)" onclick="common.hrefFunction('./mypage/my-info.html')";>마이페이지</a>
        </li>
        <li name="loginOutPart" class="no-before">
          <a href="javascript:void(0);" onclick="common.hrefFunction('./member/login.html');" class="btn-login">로그인</a>
        </li>
        <li class="no-before">
          <a hef="javascript:void(0);" onclick="common.hrefFunction('./product/product.html');" class="link-product">슈퍼V 상품소개∙결제</a>
        </li>
      </ul>
    </div>
	</div>
</div>
<!-- PC 띠배너 위치
<div class="line-banner">
	<a href="../product/product.html"><img src="../images/main/bnr_main_231205@2x.webp" alt="띠배너"></a>
</div>
-->
<div class="gnb-menu-wrap">
	<div class="mobile-top">
		<!-- 12.14 모바일 사이드 메뉴 추가 - 김자연 -->
		<button class="hd_menu_btn" type="button"><img src="./images/icon/m_icon_menu_24.svg" alt="메뉴"></button>

		<!-- 12.01 모바일 헤더에 버튼 추가 - 이소라 -->
		<a href="javascript:void(0);" onclick="common.hrefFunction('./product/product.html');" class="top-btn product product-m">상품소개∙결제</a>

		<h1 class="mb_img top_logo">
			<a href="javascript:void(0);" onclick="common.hrefFunction('./main.html');" class="toplogo_item"><img src="./images/toplogo.png" alt="" /></a>
		</h1>
		<!-- 12.06 모바일 헤더에 버튼 추가 - 이소라-->
		<div class="mb_item">
			<a href="javascript:void(0);" name="loginPart" onclick="common.hrefFunction('./mypage/my-info.html');" class="top-btn mypage-m" style="display: none;">MY</a>
			<a href="javascript:void(0);" name="loginPart" onclick="common.hrefFunction('./payment/cart.html');" class="top-btn cart-m" style="display: none;">CART</a>
		</div>
	</div>
	<!-- 221102 gnb 변경 -->
	<div class="gnbmenu_list_wrap" >

	<h1 class="pc_img toplogo">
		<a href="javascript:void(0);" onclick="common.hrefFunction('./main.html');" class="toplogo_item"><img src="./images/toplogo.png" alt="" /></a>
	</h1>
	<ul class="gnbmenu_list">
		<li name="pageSub01Li" class="headerLi">
			<a href="javascript:void(0);" onclick="common.hrefFunction('./page_sub_01.html');" class="gnbmenu menu_01">
				<div class="gnbmenu_label">바이링구얼로 크는</div>
				<div class="gnbmenu_main">영어</div>
				<div class="hover_bg"></div>
			</a>
		</li>
		<li name="pageSub02Li" class="headerLi">
			<a href="javascript:void(0);" onclick="common.hrefFunction('./page_sub_02.html');" class="gnbmenu menu_02">
				<div class="gnbmenu_label">업계최대</div>
				<div class="gnbmenu_main">영어도서관</div>
				<div class="hover_bg"></div>
			</a>
		</li>
		<li name="pageSub03Li" class="headerLi">
			<a href="javascript:void(0);" onclick="common.hrefFunction('./page_sub_03.html');" class="gnbmenu menu_03">
				<div class="gnbmenu_label">1:1 영어 전담 케어</div>
				<div class="gnbmenu_main">영어특별반</div>
				<div class="hover_bg"></div>
			</a>
		</li>
		<li name="pageSub05Li" class="headerLi">
			<a href="javascript:void(0);" onclick="common.hrefFunction('./page_sub_05.html');" class="gnbmenu menu_05">
				<div class="gnbmenu_label">창의력과 상상력</div>
				<div class="gnbmenu_main">
					<span class="pc_menu">한글 &middot; 국어</span>
					<span class="mb_menu">한글</span>
				</div>
				<div class="hover_bg"></div>
			</a>
		</li>
		<li name="pageSub04Li" class="headerLi">
			<a href="javascript:void(0);" onclick="common.hrefFunction('./page_sub_04.html');" class="gnbmenu menu_04">
				<div class="gnbmenu_label">사고력과 두뇌개발</div>
				<div class="gnbmenu_main">수학</div>
				<div class="hover_bg"></div>
			</a>
		</li>
		<li name="pageSub06Li" class="headerLi">
		<a href="javascript:void(0);" onclick="common.hrefFunction('./page_sub_06.html');" class="gnbmenu menu_06">
			<div class="gnbmenu_main">
				<span class="pc_menu">슈키&이비를<br />만나다</span>
				<span class="mb_menu">슈키&이비</span>
			</div>
			<div class="hover_bg"></div>
		</a>
	</li>

	</ul>
	<div class="gnbmenu_hover_bg"></div>
</div>

</div>
 <!-- // 221102 gnb 변경 -->

<!-- 모바일 사이드 메뉴 - 김자연 -->
<div class="m_hd_menu">
	<div class="container">
		<div class="m_account">
			<!-- 비로그인 상태 -->
			<div class="logout-area" name="loginOutPart">
				<a href="javascript:void(0);"  onclick="common.hrefFunction('./member/login.html');">
					<span class="text-primary">로그인</span>해 주세요! <span class="ico ico-arr-r"></span>
				</a>
				<button type="button" class="btn btn-sm" onclick="common.hrefFunction('./member/signup.html');">회원가입</button>
			</div>
			<!-- 로그인 상태 -->
			<div class="login-area d-flex align-items-center py-4" name="loginPart">
				<p class="fw_700 fs_16"><span class="text-break" name="loginUserName"><!-- TODO : 이름만 노출 --></span></p>
			</div>
			<button type="button" class="close_btn_wr btn h-auto border-0 flex-shrink-0 btn-normalize"><img src="./images/icon/m_icon_close.png" alt="" width="24px"></button>
		</div>
		<div class="line_sec"></div>
		<div class="event-area-wrap">
      <!----------------------- 학부모 앱  ----------------------->
      <div class="app-download-area">
        <p class="area-tit pd-t-0">학부모 독서코칭 가이드</p>
        <div class="rounded-md ">
          <a href="javascript:void(0);" class="aos-el" onclick="common.hrefFunction('https://play.google.com/store/apps/details?id=com.mackerly.growv.parents.android')">
            <img src="./images/banner/guide_parent_bn.png">
          </a>
          <a href="javascript:void(0);" class="ios-el" onclick="common.hrefFunction('https://apps.apple.com/kr/app/%EC%8A%88%ED%8D%BC%EB%B8%8C%EC%9D%B4-%ED%95%99%EB%B6%80%EB%AA%A8/id6464308705?platform=iphone')">
            <img src="./images/banner/guide_parent_bn.png">
          </a>
        </div>
      </div>
			<!----------------------- 진행 중인 이벤트 없을 경우 event-area 클래스 추가 d-none or 주석 ----------------------->
			<div class="event-area">
				<p class="area-tit">이벤트</p>
				<!-- 전용몰 이벤트 제거
				<div class="rounded-md">
					<a href="https://reading.superv.com/pages/event-mall.html" target="_blank" title="슈퍼리딩 전용몰 이벤트 페이지로 이동">
						<img src="/images/banner/event_mall_bnr_m.png">
					</a>
				</div>-->
				<div class="rounded-md">
					<a href="javascript:void(0);" onclick="common.hrefFunction('./event/event-lotte-card.html');" title="슈퍼브이 X 롯데카드 제휴 프로모션 이벤트 페이지로 이동">
						<img src="./images/banner/event_04_lotte_bn_m.png">
					</a>
				</div>
			</div>
			<!----------------------- 하프사이즈 버튼 링크  ----------------------->
			<div class="event-area">
				<p class="area-tit">고객지원</p>
				<div class="rounded-md btns-wrap">
					<a href="javascript:void(0);" onclick="window.open('./etc/guide.html','_blank');" title="이용가이드 페이지로 이동" class="btn-half">
						<img src="./images/banner/btn_use_guide.png">
					</a>
					<a href="javascript:void(0);" title="슈퍼브이에게 바란다 팝업 노출" class="btn-half pop_board">
						<img src="./images/banner/btn_wish.png">
					</a>
				</div>
			</div>
			<!-----------------------// 진행 중인 이벤트 없을 경우 event-area 클래스 추가 d-none or 주석 ----------------------->
			<div class="gray_box rounded-md">
				<p class="txt-center"><span class="mr_8">고객센터</span><a href="tel:1533-1777">1533-1777</a></p>
				<p class="txt-center-time"><span>평일10~19시</span><span>(점심시간12~13시 / 주말, 공휴일 휴무)</span></p>
			</div>
			<a href="javascript:void(0);" onclick="fnLogoutBtn();" class="btn-logout" name="loginPart" id="mLogoutPart"><u>로그아웃</u></a>
		</div>
	</div>
</div>

<script>
	/*공통 초기 실행 함수*/
	$(document).ready(function(){
		const urlParams = new URL(location.href).searchParams;
		const name = urlParams.get('recommendCd');
		if(!common.isNull(name)){
			sessionStorage.setItem("recommendCd", name);
		}
		const name2 = urlParams.get('salesRecommCd');
		if(!common.isNull(name2)){
			sessionStorage.setItem("salesRecommCd", name2);
		}

	});

	$(window).on("load", function (){
		fnSetLoginCheck();
		$('.headerLi').removeClass('active');
		var thisUrl = window.location.href;
		if(thisUrl.indexOf("page_sub_06.html") != -1){
			$("[name='pageSub06Li']").addClass('active');
		}else if(thisUrl.indexOf("page_sub_01.html")!= -1){
			$("[name='pageSub01Li']").addClass('active');
		}else if(thisUrl.indexOf("page_sub_02.html")!= -1){
			$("[name='pageSub02Li']").addClass('active');
		}else if(thisUrl.indexOf("page_sub_03.html")!= -1){
			$("[name='pageSub03Li']").addClass('active');
		}else if(thisUrl.indexOf("page_sub_04.html")!= -1){
			$("[name='pageSub04Li']").addClass('active');
		}else if(thisUrl.indexOf("page_sub_05.html")!= -1){
			$("[name='pageSub05Li']").addClass('active');
		}
	})
	function fnSetLoginCheck(){
		var jwtTokcen = jwt.getAllToken();
		if(!common.isNull(jwtTokcen.getItem(ACCESS_TOKEN_NAME)) && !common.isNull(jwtTokcen.getItem(EXPIRED_TIME_NAME)) && !common.isNull(jwtTokcen.getItem(REFRESH_TOKEN_NAME))){
			$("[name='loginPart']").show();
			//$("[name='cartPart']").show();
			$("[name='loginOutPart']").hide();
			var userInfo = JSON.parse(jwtTokcen.getItem("vuex"));
			var thisUserName = $("[name='loginUserName']").html();
			if(common.isNull(thisUserName)){
				// $("[name='loginUserName']").html(userInfo.parentName + "님");
				$("[name='loginUserName']").html("<em class='txt-name'>" + userInfo.parentName + "</em>님");
			}
		}else{
			jwt.destroyAll();
			$("[name='loginUserName']").html();
			$("[name='loginPart']").hide();
			//$("[name='cartPart']").hide();
			$("[name='loginOutPart']").show();
		}
	}
	// 로그아웃
	function fnLogoutBtn(){
		jwt.destroyAll();
		alert("정상적으로 로그아웃 되었습니다.");
		$("[name='loginUserName']").html();
		$("[name='loginPart']").hide();
		$("[name='loginOutPart']").show();
		common.hrefFunction('/main.html');
	}
</script>

<!-- 사이드 네비 onClick 이벤트 & os 별 display 분기처리 - 김자연 -->
<script>
	// 모바일 메뉴
	$(document).ready(function () {
		var device;
		function checkMobile(){
			var deviceType = navigator.userAgent.toLowerCase(); // userAgent

			if (deviceType.indexOf('android') > -1) {        // aos
				return "android";
			} else if (deviceType.indexOf("iphone") > -1 || deviceType.indexOf("ipad") > -1 || deviceType.indexOf("ipod") > -1 ) {     // ios
				return "ios";
			} else if (deviceType.indexOf("mac") > -1) {     // mac os
				return "mac"
			} else {                                         // other
				return "other";
			}
		}
		device = checkMobile();
		if(device === 'ios' || device === 'mac') {
			// console.log('mac or ios');
			document.querySelector('body').classList.add('ios-show');
		} else {
			document.querySelector('body').classList.add('aos-show');
		}

		/*해당으로 js 먼저 발생될경우 인식 안될 경우 있음*/
		$(document).on("click", ".hd_menu_btn", function (){
			openMobileNav();
		});
		$(document).on("click", ".close_btn_wr", function (){
			closeMobileNav();
		});
		// 231129 nature 추가 (이용권 버튼 클릭 시 모바일 네비만 닫히고 팝업 등장)
		$(document).on("click", '.btn-close-nav', function() {
			closeMobileNav();
		});

		// 240105 nature 추가 (리사이징 시 메뉴 닫힘, open, close 함수 분리)
		var winWidth = $(window).width();
		var isMobileCheck = winWidth < 992;
		isMobileCheck = !isMobileCheck;
		setMobile();

		$(window).on("resize", function() {
			setMobile();
		});

		function setMobile() {
			winWidth = $(window).width();

			if (winWidth >= 992 && isMobileCheck) {	// pc
				// console.log('web');
				closeMobileNav();
			} else if(winWidth < 992  && !isMobileCheck) {				// mobile
				// console.log('mobile');
			}
			isMobileCheck = winWidth < 992;
		}
		function openMobileNav() {
			$('body').addClass('menu_on');
			$('body, html').addClass('touchDis2');

			// 231129 nature 추가
			document.querySelector('body').style.overflow = 'hidden';
			// document.querySelector('body').classList.remove('overflow-auto');
			// document.querySelector('body').classList.add('overflow-hidden');
		}
		function closeMobileNav() {
			$('body').removeClass('menu_on filter_on');
			$('body, html').removeClass('touchDis2');

			// 231129 nature 추가
			document.querySelector('body').style.overflow = 'auto';
			// document.querySelector('body').classList.remove('overflow-hidden');
			// document.querySelector('body').classList.add('overflow-auto');
		}
	});
</script>