<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>bar</title>
    <script src = "../jquery/jquery-1.11.0.min.js" ></script>
	<link rel="stylesheet" type="text/css" href="../css/chart.css">
	<link rel="stylesheet" type="text/css" href="../css/bar.css">
</head>
<body>
<div class="chartbody">
	<div class="progressbar" data-perc="20">
		<div class="horizbar color4"><span></span></div>
	</div>
</div>
</body>
<script>
$(function() {
	$('.progressbar').each(function(){
		var t = $(this);
		var dataperc = t.attr('data-perc'),
				barperc = Math.round(dataperc*10);
		t.find('.horizbar').animate({width:barperc}, dataperc*55);
		
		function perc() {
			var length = t.find('.horizbar').css('width'),
				perc = Math.round(parseInt(length)/10);
		}
        
		perc();
		setInterval(perc, 0); 
	});
});
</script>
</html>